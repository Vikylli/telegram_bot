<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta charset="utf-8">
    <title>Question Game</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        button { padding: 10px; margin: 5px; }
        #question { font-size: 18px; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>Выбери категорию</h1>
    <div id="categories"></div>
    <div id="question"></div>
    <button id="share">Поделиться в чат</button>
    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();  // Расширить на весь экран

        const categories = ['дружба', 'жизненные_ценности', 'семья', 'карьера', 'любовь'];  // Из questions.py
        const catDiv = document.getElementById('categories');
        categories.forEach(cat => {
            const btn = document.createElement('button');
            btn.textContent = cat;
            btn.onclick = () => fetchQuestion(cat);
            catDiv.appendChild(btn);
        });

        async function fetchQuestion(cat) {
            // Здесь запрос к вашему backend для вопроса (чтобы не хардкодить)
            const response = await fetch('/get_question?cat=' + cat);
            const data = await response.json();
            document.getElementById('question').textContent = data.question;
            tg.MainButton.text = 'Поделиться вопросом';
            tg.MainButton.onClick(() => tg.sendData(JSON.stringify({question: data.question})));
            tg.MainButton.show();
        }

        document.getElementById('share').onclick = () => {
            tg.showAlert('Вопрос отправлен в чат!');
        };
    </script>
</body>
</html>